{# Person card #}
{% set main_element_base_class = main_element_base_class | default('person') %}
{% set main_element_modifiers = [''] %}

{# set var person #}
{% set pathtoken = content.field_remote_uuid[0]['#context']['value'] %}
{% set person = parse_people_json(pathtoken) %}
{# {{dump(person)}} #}


{# job title #}
	{% if person.jobtitle %}
	{% set show_jobtitle = true %}
{% set jobtitle = person.jobtitle %}
{% endif %}

{# departments #}
	{% if person.departments %}
	{% set show_departments = true %}
{% set departments = person.departments %}
{% endif %}

{# link #}
{% set link = content.field_link.0['#title'] %}


{# responsibilities #}
	{% if person.responsibilities %}
{% set show_responsibilities = true %}
{% endif %}

{# departments #}
	{% if person.departments %}
{% set show_departments = true %}
{% endif %}

{# person type #}
{% set personType = content.field_person_type.0["#plain_text"] %}

{% set card_link_url = '/people'~person.path %}
	{% if person.imagepath %}
	{% set image %}
		{% if (person.imagepath == "https://people.asd8.as.cornell.edu") or  (person.imagepath == "https://people.asd8.as.cornell.edu/sites/people/files/Angie%20Torres-Beltran.jpg")%}
		<img src="https://people.as.cornell.edu/sites/people/files/Klarmanarticle_4784_2.jpg" alt="Klarman Hall"/>
	{% else %}
		<img src="{{person.imagepath}}" alt="{{person.alt}}">
	{% endif %}
	{% endset %}
{% endif %}


{% embed "@content/person/_card--person.twig" with {
    card_modifiers : ["person"],
    person_name : person.title,
    person_image_alt : person.alt,
    person_jobtitle: jobtitle,
    person_departments: departments,
    person_responsibilities: person.responsibilities,
    person_nodeId : node.id
} %}
{% endembed %}
