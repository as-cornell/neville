{# 

/* -------------------------

Title: node--person--card.html.twig
Descr: defines "person" and outputs fields for person card

--------------------------- */ 

#}
{# set wrapper bem calsses #}
{% set card_base_class = 'card' %}
{% set card_modifiers =  ["person"]%}



{# set var person #}
{% set remote_uuid = content.field_remote_uuid[0]['#context']['value'] %}
{% set person = parse_people_json(remote_uuid) %}
{# {{dump(person)}} #}


{# job title #}
{% if person.jobtitle %}
	{% set show_jobtitle = true %}
{% endif %}

{# departments #}
{% if person.departments %}
	{% set show_departments = true %}
{% endif %}

{# link #}
{% set link = content.field_link.0['#title'] %}


{# responsibilities #}
{% if person.responsibilities %}
  {% set show_responsibilities = true %}
{% endif %}

{# departments #}
{% if person.departments %}
  {% set show_departments = true %}
{% endif %}

{# person type #}
{% set personType = content.field_person_type.0["#plain_text"] %}
{% set card_link_url = '/people'~person.path %}

{# set image #}
{% if person.imagepath %}
	{% set image %}
		<img src="{{person.imagepath}}" alt="{{person.alt}}">
  {% endset %}
  {% else %}
  {% set image %}
		<img src="https://people.as.cornell.edu/sites/people/files/Klarmanarticle_4784_2.jpg" alt="Klarman Hall"/>
  {% endset %}
{% endif %}


{% embed "@content/articles/_person--card.twig" with {

    title: person.title,
    jobtitle: person.jobtitle,
    responsibilities: person.responsibilities,
    contact: 'contacts coming',
    departments: person.departments,
    image: image
} %}{% endembed %}


